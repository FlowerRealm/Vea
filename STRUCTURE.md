# Vea é¡¹ç›®ç›®å½•ç»“æ„

æœ€åæ›´æ–°ï¼š2025-11-19

## ğŸ“ æ ¹ç›®å½•ç»“æ„

```
Vea/
â”œâ”€â”€ ğŸ“„ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ .gitignore           # Git å¿½ç•¥è§„åˆ™
â”‚   â”œâ”€â”€ go.mod              # Go æ¨¡å—å®šä¹‰
â”‚   â”œâ”€â”€ go.sum              # Go ä¾èµ–é”å®š
â”‚   â”œâ”€â”€ main.go             # Go ä¸»å…¥å£
â”‚   â”œâ”€â”€ Makefile            # æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ LICENSE             # MIT è®¸å¯è¯
â”‚
â”œâ”€â”€ ğŸ“š æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md           # é¡¹ç›®è¯´æ˜
â”‚   â”œâ”€â”€ BUILD.md            # æ„å»ºæŒ‡å—
â”‚   â”œâ”€â”€ AGENTS.md           # AI Agent è¯´æ˜
â”‚   â”œâ”€â”€ STRUCTURE.md        # ç›®å½•ç»“æ„è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”‚   â””â”€â”€ docs/               # è¯¦ç»†æ–‡æ¡£
â”‚       â””â”€â”€ api/            # API æ–‡æ¡£
â”‚
â”œâ”€â”€ ğŸ”§ åç«¯ï¼ˆbackend/ï¼‰
â”‚   â”œâ”€â”€ api/                # HTTP API å¤„ç†å™¨
â”‚   â”œâ”€â”€ domain/             # é¢†åŸŸæ¨¡å‹
â”‚   â”œâ”€â”€ persist/            # æŒä¹…åŒ–å±‚
â”‚   â”œâ”€â”€ service/            # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ store/              # æ•°æ®å­˜å‚¨
â”‚   â””â”€â”€ tasks/              # åå°ä»»åŠ¡
â”‚
â”œâ”€â”€ ğŸ–¥ï¸ å‰ç«¯ï¼ˆfrontend/ï¼‰
â”‚   â”œâ”€â”€ main.js             # Electron ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ preload.js          # é¢„åŠ è½½è„šæœ¬
â”‚   â”œâ”€â”€ package.json        # å‰ç«¯ä¾èµ–
â”‚   â”œâ”€â”€ electron-builder.yml # æ‰“åŒ…é…ç½®
â”‚   â”œâ”€â”€ renderer/           # æ¸²æŸ“è¿›ç¨‹
â”‚   â”‚   â”œâ”€â”€ app.js          # ä¸»åº”ç”¨é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ dark.html       # æ·±è‰²ä¸»é¢˜ç•Œé¢
â”‚   â”‚   â””â”€â”€ light.html      # æµ…è‰²ä¸»é¢˜ç•Œé¢
â”‚   â””â”€â”€ sdk/                # JavaScript SDK
â”‚       â”œâ”€â”€ package.json    # SDK ä¾èµ–
â”‚       â”œâ”€â”€ rollup.config.js # æ‰“åŒ…é…ç½®
â”‚       â”œâ”€â”€ README.md       # SDK æ–‡æ¡£
â”‚       â”œâ”€â”€ src/            # SDK æºç 
â”‚       â”‚   â”œâ”€â”€ client.js   # HTTP å®¢æˆ·ç«¯
â”‚       â”‚   â”œâ”€â”€ utils.js    # å·¥å…·å‡½æ•°
â”‚       â”‚   â”œâ”€â”€ index.js    # å…¥å£æ–‡ä»¶
â”‚       â”‚   â””â”€â”€ types.d.ts  # TypeScript ç±»å‹
â”‚       â””â”€â”€ dist/           # æ„å»ºäº§ç‰©
â”‚           â””â”€â”€ vea-sdk.esm.js # å•æ–‡ä»¶ SDK (24KB)
â”‚
â”œâ”€â”€ ğŸ—ï¸ æ„å»ºäº§ç‰©ï¼ˆ.gitignoreï¼‰
â”‚   â”œâ”€â”€ dist/               # Go ç¼–è¯‘è¾“å‡º
â”‚   â”‚   â””â”€â”€ vea            # åç«¯äºŒè¿›åˆ¶æ–‡ä»¶
â”‚   â”œâ”€â”€ data/              # è¿è¡Œæ—¶æ•°æ®
â”‚   â”‚   â””â”€â”€ state.json     # ä¸šåŠ¡æ•°æ®æŒä¹…åŒ–
â”‚   â””â”€â”€ artifacts/         # æ ¸å¿ƒç»„ä»¶
â”‚       â””â”€â”€ core/
â”‚           â””â”€â”€ xray/      # Xray æ ¸å¿ƒæ–‡ä»¶
â”‚
â””â”€â”€ ğŸ§© ç‰ˆæœ¬æ§åˆ¶
    â”œâ”€â”€ .git/              # Git ä»“åº“
    â””â”€â”€ .github/           # GitHub Actions
```

## ğŸ¯ æ ¸å¿ƒç›®å½•è¯´æ˜

### `/backend` - Go åç«¯
- **æ¸…æ™°çš„åˆ†å±‚æ¶æ„**
- æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†
- ä¸å¯¹å¤–æš´éœ²å†…éƒ¨å®ç°

**å­ç›®å½•**ï¼š
- `api/` - HTTP è·¯ç”±å’Œå¤„ç†å™¨
- `domain/` - æ ¸å¿ƒä¸šåŠ¡æ¨¡å‹
- `persist/` - æ•°æ®æŒä¹…åŒ–
- `service/` - ä¸šåŠ¡é€»è¾‘å±‚
- `store/` - æ•°æ®å­˜å‚¨æ¥å£
- `tasks/` - åå°å®šæ—¶ä»»åŠ¡

### `/frontend` - Electron å‰ç«¯ + SDK
- **Electron åº”ç”¨** - ä¸‰æ–‡ä»¶ç»“æ„ï¼ˆmain/preload/rendererï¼‰
- **SDK** - å¯å¤ç”¨çš„ JavaScript åº“

**Electron éƒ¨åˆ†**ï¼š
- `main.js` - Electron ä¸»è¿›ç¨‹ï¼ˆçª—å£ç®¡ç†ã€åç«¯é€šä¿¡ï¼‰
- `preload.js` - é¢„åŠ è½½è„šæœ¬ï¼ˆå®‰å…¨æ¡¥æ¥ï¼‰
- `renderer/` - æ¸²æŸ“è¿›ç¨‹ï¼ˆUI å±‚ï¼‰
  - `app.js` - æ‰€æœ‰ä¸šåŠ¡é€»è¾‘
  - `dark.html` / `light.html` - ä¸»é¢˜ç•Œé¢

**SDK éƒ¨åˆ†**ï¼š
- å•ç‹¬çš„ npm åŒ…
- å¯åœ¨æµè§ˆå™¨ã€Node.jsã€Electron ä¸­ä½¿ç”¨
- é›¶å¤–éƒ¨ä¾èµ–
- TypeScript ç±»å‹æ”¯æŒ

### `/docs` - æ–‡æ¡£
- API æ–‡æ¡£
- ä½¿ç”¨æŒ‡å—
- å¼€å‘æ–‡æ¡£

### `/dist` - æ„å»ºäº§ç‰©
- Go ç¼–è¯‘è¾“å‡º
- è¢« .gitignore æ’é™¤

### `/data` - è¿è¡Œæ—¶æ•°æ®
- æŒä¹…åŒ–çš„ä¸šåŠ¡æ•°æ®
- è¢« .gitignore æ’é™¤

### `/artifacts` - è¿è¡Œæ—¶ç»„ä»¶
- Xray æ ¸å¿ƒç­‰å¤–éƒ¨ç»„ä»¶
- è¢« .gitignore æ’é™¤

## ğŸ“ .gitignore ç­–ç•¥

**å¿½ç•¥çš„å†…å®¹**ï¼š
```
# æ„å»ºäº§ç‰©
dist/
vea
vea.exe

# è¿è¡Œæ—¶æ•°æ®
data/
artifacts/

# ä¾èµ–
node_modules/

# ç¯å¢ƒé…ç½®
.env
.vscode/
.idea/
```

**ä¸å¿½ç•¥çš„å†…å®¹**ï¼š
- `frontend/sdk/dist/` - SDK æ„å»ºäº§ç‰©ï¼ˆå‘å¸ƒéœ€è¦ï¼‰
- æºä»£ç ã€é…ç½®æ–‡ä»¶ã€æ–‡æ¡£

## ğŸ”„ é‡å‘½åè®°å½•

**2025-11-19 ç›®å½•é‡ç»„**ï¼š
- `internal/` â†’ `backend/` - åç«¯æ›´æ˜ç¡®
- `electron/` â†’ `frontend/` - å‰ç«¯æ›´ç»Ÿä¸€
- `sdk/` â†’ `frontend/sdk/` - SDK å½’å±å‰ç«¯

## ğŸš€ æ„å»ºæµç¨‹

### å¼€å‘æ¨¡å¼
```bash
make dev
```

1. ç¼–è¯‘ Go åç«¯ â†’ `dist/vea`
2. å®‰è£…å‰ç«¯ä¾èµ– â†’ `frontend/node_modules/`
3. å¯åŠ¨ Electron å¼€å‘æ¨¡å¼

### ç”Ÿäº§æ‰“åŒ…
```bash
make build
```

1. ç¼–è¯‘ Go åç«¯
2. æ‰“åŒ… Electron åº”ç”¨ â†’ `frontend/dist/release/`

## ğŸ¯ æœ€ä½³å®è·µ

1. **åç«¯ä»£ç ** â†’ `backend/` ç›®å½•
2. **å‰ç«¯ä»£ç ** â†’ `frontend/` ç›®å½•
3. **SDKä»£ç ** â†’ `frontend/sdk/` ç›®å½•
4. **æ„å»ºäº§ç‰©** â†’ `dist/` ç›®å½•
5. **è¿è¡Œæ—¶æ•°æ®** â†’ `data/` å’Œ `artifacts/`
6. **æ–‡æ¡£** â†’ `docs/` å’Œæ ¹ç›®å½• README
7. **ä¸´æ—¶æ–‡ä»¶** â†’ ä½¿ç”¨ .gitignore æ’é™¤

---

**å½“å‰ç»“æ„**ï¼šæ¸…æ™°ã€ç®€æ´ã€æ ‡å‡†åŒ– âœ…
