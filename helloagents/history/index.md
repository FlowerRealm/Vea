# 变更历史索引

本文件记录所有已完成变更的索引，便于追溯和查询。

## 索引

| 时间戳 | 功能名称 | 类型 | 状态 | 方案包路径 |
|--------|----------|------|------|------------|
| 202601050639 | fix-clash-tun-dns | 修复 | ✅已完成 | [2026-01/202601050639_fix-clash-tun-dns](2026-01/202601050639_fix-clash-tun-dns/) |
| 202601051238 | fix-clash-tun-mtu | 修复 | ✅已完成 | [2026-01/202601051238_fix-clash-tun-mtu](2026-01/202601051238_fix-clash-tun-mtu/) |
| 202601071130 | fix-gz-extract-clash-install | 修复 | ✅已完成 | [2026-01/202601071130_fix-gz-extract-clash-install](2026-01/202601071130_fix-gz-extract-clash-install/) |
| 202601071248 | refactor-tun-defaults-engine-ui | 重构 | ✅已完成 | [2026-01/202601071248_refactor-tun-defaults-engine-ui](2026-01/202601071248_refactor-tun-defaults-engine-ui/) |
| 202601071306 | fix-chmod-engine-switch-proxy-failfast | 修复 | ✅已完成 | [2026-01/202601071306_fix-chmod-engine-switch-proxy-failfast](2026-01/202601071306_fix-chmod-engine-switch-proxy-failfast/) |
| 202601080702 | fix-frouter-rule-list-label | 修复 | ✅已完成 | [2026-01/202601080702_fix-frouter-rule-list-label](2026-01/202601080702_fix-frouter-rule-list-label/) |
| 202601080729 | compact-clash-rules-by-target | 修复 | ✅已完成 | [2026-01/202601080729_compact-clash-rules-by-target](2026-01/202601080729_compact-clash-rules-by-target/) |
| 202601080815 | fix-singbox-ruleset-tag-case | 修复 | ✅已完成 | [2026-01/202601080815_fix-singbox-ruleset-tag-case](2026-01/202601080815_fix-singbox-ruleset-tag-case/) |
| 202601080848 | fix-subscription-pull-refresh-duplicate | 修复 | ✅已完成 | [2026-01/202601080848_fix-subscription-pull-refresh-duplicate](2026-01/202601080848_fix-subscription-pull-refresh-duplicate/) |
| 202601080900 | fix-subscription-error-message-overflow | 修复 | ✅已完成 | [2026-01/202601080900_fix-subscription-error-message-overflow](2026-01/202601080900_fix-subscription-error-message-overflow/) |
| 202601081053 | fix-review-followups | 修复 | ✅已完成 | [2026-01/202601081053_fix-review-followups](2026-01/202601081053_fix-review-followups/) |
| 202601081145 | fix-review-report | 修复 | ✅已完成 | [2026-01/202601081145_fix-review-report](2026-01/202601081145_fix-review-report/) |
| 202601081334 | fix-singbox-tun-dns-doh | 修复 | ✅已完成 | [2026-01/202601081334_fix-singbox-tun-dns-doh](2026-01/202601081334_fix-singbox-tun-dns-doh/) |
| 202601081339 | fix-proxy-port-sync | 修复 | ✅已完成 | [2026-01/202601081339_fix-proxy-port-sync](2026-01/202601081339_fix-proxy-port-sync/) |
| 202601081553 | user-data-root | 重构 | ✅已完成 | [2026-01/202601081553_user_data_root](2026-01/202601081553_user_data_root/) |
| 202601081505 | remove-xray | 变更 | ✅已完成 | [2026-01/202601081505_remove_xray](2026-01/202601081505_remove_xray/) |
| 202601082055 | fix-clash-tun-sniffer-quic | 修复 | ✅已完成 | [2026-01/202601082055_fix-clash-tun-sniffer-quic](2026-01/202601082055_fix-clash-tun-sniffer-quic/) |
| 202601091503 | fix-speed-unit-mbs | 修复 | ✅已完成 | [2026-01/202601091503_fix-speed-unit-mbs](2026-01/202601091503_fix-speed-unit-mbs/) |
| 202601091512 | fix-subscription-node-prune | 修复 | ✅已完成 | [2026-01/202601091512_fix-subscription-node-prune](2026-01/202601091512_fix-subscription-node-prune/) |
| 202601091540 | fix-subscription-create-async | 修复 | ✅已完成 | [2026-01/202601091540_fix-subscription-create-async](2026-01/202601091540_fix-subscription-create-async/) |
| 202601091547 | fix-issue-27-windows-default-rule-templates | 修复 | ✅已完成 | [2026-01/202601091547_fix-issue-27-windows-default-rule-templates](2026-01/202601091547_fix-issue-27-windows-default-rule-templates/) |
| 202601091549 | fix-slot-ui | 修复 | ✅已完成 | [2026-01/202601091549_fix-slot-ui](2026-01/202601091549_fix-slot-ui/) |
| 202601091550 | fix-issue-28-light-log-autoscroll-toggle | 修复 | ✅已完成 | [2026-01/202601091550_fix-issue-28-light-log-autoscroll-toggle](2026-01/202601091550_fix-issue-28-light-log-autoscroll-toggle/) |
| 202601091553 | fix-ip-geo-proxy | 修复 | ✅已完成 | [2026-01/202601091553_fix-ip-geo-proxy](2026-01/202601091553_fix-ip-geo-proxy/) |
| 202601091557 | feat-auto-update | 功能 | ✅已完成 | [2026-01/202601091557_feat-auto-update](2026-01/202601091557_feat-auto-update/) |
| 202601091650 | fix-issue-33-frouter-highlight | 修复 | ✅已完成 | [2026-01/202601091650_fix-issue-33-frouter-highlight](2026-01/202601091650_fix-issue-33-frouter-highlight/) |
| 202601091657 | fix-issue-32-tun-status | 修复 | ✅已完成 | [2026-01/202601091657_fix-issue-32-tun-status](2026-01/202601091657_fix-issue-32-tun-status/) |
| 202601091707 | fix-tun-polkit-prompts | 修复 | ✅已完成 | [2026-01/202601091707_fix-tun-polkit-prompts](2026-01/202601091707_fix-tun-polkit-prompts/) |
| 202601091715 | fix-app-update-check-no-response | 修复 | ✅已完成 | [2026-01/202601091715_fix-app-update-check-no-response](2026-01/202601091715_fix-app-update-check-no-response/) |
| 202601092026 | theme-package | 变更 | ✅已完成 | [2026-01/202601092026_theme-package](2026-01/202601092026_theme-package/) |
| 202601092132 | fix-ip-geo-context | 修复 | ✅已完成 | [2026-01/202601092132_fix-ip-geo-context](2026-01/202601092132_fix-ip-geo-context/) |
| 202601100554 | pr-review-hardening | 修复 | ✅已完成 | [2026-01/202601100554_pr-review-hardening](2026-01/202601100554_pr-review-hardening/) |
| 202601100601 | theme-pack-manifest | 变更 | ✅已完成 | [2026-01/202601100601_theme-pack-manifest](2026-01/202601100601_theme-pack-manifest/) |
| 202601110913 | fix-subscription-fallback-syncstatus | 修复 | ✅已完成 | [2026-01/202601110913_fix-subscription-fallback-syncstatus](2026-01/202601110913_fix-subscription-fallback-syncstatus/) |
| 202601111002 | fix-review-log-port-probe | 修复 | ✅已完成 | [2026-01/202601111002_fix-review-log-port-probe](2026-01/202601111002_fix-review-log-port-probe/) |
| 202601111339 | theme-review-followups | 修复 | ✅已完成 | [2026-01/202601111339_theme-review-followups](2026-01/202601111339_theme-review-followups/) |
| 202601111422 | feat-restart-core-button | 功能 | ✅已完成 | [2026-01/202601111422_feat-restart-core-button](2026-01/202601111422_feat-restart-core-button/) |
| 202601112114 | refactor-restart-core-button | 重构 | ✅已完成 | [2026-01/202601112114_refactor-restart-core-button](2026-01/202601112114_refactor-restart-core-button/) |

## 按月归档

### 2026-01

- [202601050639_fix-clash-tun-dns](2026-01/202601050639_fix-clash-tun-dns/) - 修复 Linux 下 mihomo(Clash) TUN 默认配置导致的断网
- [202601051238_fix-clash-tun-mtu](2026-01/202601051238_fix-clash-tun-mtu/) - 修复 Linux 下 mihomo(Clash) TUN 默认 MTU=9000 导致“看起来全网断开”
- [202601071130_fix-gz-extract-clash-install](2026-01/202601071130_fix-gz-extract-clash-install/) - 组件管理：新增核心组件卸载接口；修复 .gz 安装文件命名并清理冗余逻辑
- [202601071248_refactor-tun-defaults-engine-ui](2026-01/202601071248_refactor-tun-defaults-engine-ui/) - 维护性：提取 TUN 默认值常量；主题页内核偏好切换公共刷新逻辑去重
- [202601071306_fix-chmod-engine-switch-proxy-failfast](2026-01/202601071306_fix-chmod-engine-switch-proxy-failfast/) - 修复 clash 安装归一化 chmod 错误处理；主题页切换内核关闭系统代理失败改为快失败
- [202601080702_fix-frouter-rule-list-label](2026-01/202601080702_fix-frouter-rule-list-label/) - 主题页：FRouter 路由规则列表优先展示模板/首条匹配项，并在次行显示去向
- [202601080729_compact-clash-rules-by-target](2026-01/202601080729_compact-clash-rules-by-target/) - 订阅解析：Clash YAML rules 按目标去向合并连续规则，避免生成海量路由边
- [202601080815_fix-singbox-ruleset-tag-case](2026-01/202601080815_fix-singbox-ruleset-tag-case/) - 代理服务：sing-box rule-set 下载对 geoip/geosite tag 做小写归一化，避免 `geoip-CN` 触发 404
- [202601080848_fix-subscription-pull-refresh-duplicate](2026-01/202601080848_fix-subscription-pull-refresh-duplicate/) - 订阅面板：配置行去除重复操作，移除“刷新”按钮，仅保留“拉取节点”
- [202601080900_fix-subscription-error-message-overflow](2026-01/202601080900_fix-subscription-error-message-overflow/) - 订阅面板：同步失败错误信息在状态列单行省略显示，避免表格行高度被撑爆
- [202601081053_fix-review-followups](2026-01/202601081053_fix-review-followups/) - 代码审查跟进：plugin-opts 去重归一化、Clash 规则优先级连续化、订阅解析选择优化、app logs since 负数校验、ClearNodes sentinel 与主题页缩进修复
- [202601081145_fix-review-report](2026-01/202601081145_fix-review-report/) - 代码审查跟进：Clash 解析单测补齐、重复 proxy 告警、keepalive 尊重用户 stop、TUN 清理日志增强与订阅/主题页小型修正
- [202601081334_fix-singbox-tun-dns-doh](2026-01/202601081334_fix-singbox-tun-dns-doh/) - 修复 sing-box TUN 模式下默认远程 DNS 使用 53 端口导致的“用一段时间后域名解析卡死”
- [202601081339_fix-proxy-port-sync](2026-01/202601081339_fix-proxy-port-sync/) - 主题页：系统代理端口设置联动后端 ProxyConfig，端口变更自动重启并重应用系统代理；启动时同步真实端口避免误导
- [202601081553_user_data_root](2026-01/202601081553_user_data_root/) - 运行期数据与 artifacts 统一写入 userData，并自动迁移清理遗留仓库目录
- [202601081505_remove_xray](2026-01/202601081505_remove_xray/) - 移除 Xray 支持，仅保留 sing-box/mihomo(Clash)
- [202601082055_fix-clash-tun-sniffer-quic](2026-01/202601082055_fix-clash-tun-sniffer-quic/) - 代理服务：mihomo(Clash) TUN 默认开启 sniffer，并默认阻断 QUIC（UDP/443）提升可用性
- [202601091503_fix-speed-unit-mbs](2026-01/202601091503_fix-speed-unit-mbs/) - 修复速度单位显示：前端主题/SDK/OpenAPI 从 `Mbps` 修正为 `MB/s`
- [202601091512_fix-subscription-node-prune](2026-01/202601091512_fix-subscription-node-prune/) - 订阅节点：拉取成功后按快照清理旧节点，避免节点累积
- [202601091540_fix-subscription-create-async](2026-01/202601091540_fix-subscription-create-async/) - 订阅：创建订阅不再阻塞 UI，改为后台拉取解析并优化未同步状态显示
- [202601091547_fix-issue-27-windows-default-rule-templates](2026-01/202601091547_fix-issue-27-windows-default-rule-templates/) - 修复 Windows 发布版默认规则模板缺失（Issue #27）
- [202601091549_fix-slot-ui](2026-01/202601091549_fix-slot-ui/) - 修复槽位功能不可用（Issue #29）
- [202601091550_fix-issue-28-light-log-autoscroll-toggle](2026-01/202601091550_fix-issue-28-light-log-autoscroll-toggle/) - 修复浅色主题日志面板“自动滚动”开关关闭态几乎不可见（Issue #28）
- [202601091553_fix-ip-geo-proxy](2026-01/202601091553_fix-ip-geo-proxy/) - 修复首页“当前 IP”在代理运行时仍显示真实出口 IP（Issue #26）
- [202601091557_feat-auto-update](2026-01/202601091557_feat-auto-update/) - 增加应用内“检查更新”，支持 Windows/macOS 自动下载、安装与重启（Issue #24）
- [202601091650_fix-issue-33-frouter-highlight](2026-01/202601091650_fix-issue-33-frouter-highlight/) - 浅色主题：FRouter 选中态高亮改为黑色边框（Issue #33）
- [202601091657_fix-issue-32-tun-status](2026-01/202601091657_fix-issue-32-tun-status/) - 修复 TUN 状态显示错误：TUN 卡片主状态基于运行态，能力检查仅用于详情/指引（Issue #32）
- [202601091707_fix-tun-polkit-prompts](2026-01/202601091707_fix-tun-polkit-prompts/) - 减少 Linux TUN 模式提权弹窗次数（复用 root helper，避免多次 pkexec）
- [202601091715_fix-app-update-check-no-response](2026-01/202601091715_fix-app-update-check-no-response/) - 主题页：修复“检查应用更新”点击无响应（`showStatus` 作用域问题）
- [202601092026_theme-package](2026-01/202601092026_theme-package/) - 主题包：主题目录化 + ZIP 导入/导出；Electron 从 userData/themes 加载；主题页提供导入/导出与切换
- [202601092132_fix-ip-geo-context](2026-01/202601092132_fix-ip-geo-context/) - 修复 IP Geo 探测未贯穿请求 context，支持取消/超时
- [202601100554_pr-review-hardening](2026-01/202601100554_pr-review-hardening/) - 代码审查跟进：root helper artifactsRoot 校验加固；主题页 `showStatus` 不再全局暴露；订阅导入刷新改为轮询 `lastSyncedAt`
- [202601100601_theme-pack-manifest](2026-01/202601100601_theme-pack-manifest/) - 主题包：支持 `manifest.json`（单包多子主题）；`GET /themes` 返回 `entry` 用于切换与启动加载
- [202601110913_fix-subscription-fallback-syncstatus](2026-01/202601110913_fix-subscription-fallback-syncstatus/) - 订阅：创建订阅后台首次同步失败但 fallback 解析成功时清理同步错误，避免 UI 误标红
- [202601111002_fix-review-log-port-probe](2026-01/202601111002_fix-review-log-port-probe/) - 代码审查跟进：ConfigCreate fallback 日志语义修正；系统代理默认端口常量；TUN readiness probe 去重
- [202601111339_theme-review-followups](2026-01/202601111339_theme-review-followups/) - 主题包：导入/导出维护性补强（常量复用、临时文件关闭简化、manifest 校验告警日志）
- [202601111422_feat-restart-core-button](2026-01/202601111422_feat-restart-core-button/) - 主题页（首页）：增加“重启内核”按钮；并修复内置主题升级后不自动同步的问题
- [202601112114_refactor-restart-core-button](2026-01/202601112114_refactor-restart-core-button/) - 主题页（首页）：抽取核心状态/按钮区域内联样式到 CSS；重构 `handleCoreRestart` 并统一缩进
