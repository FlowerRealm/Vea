# 变更提案: 修复 Issue #36 主题切换失败（Windows）

## 需求背景
- 现象：在 Windows 10（Vea 2.3.0 Release 直接解压版）内切换主题时，提示“无法解析主题入口：dark/light”，无法切回默认主题。
- 影响：主题切换不可用，用户无法在深色/浅色主题间切换，且可能阻断从自定义主题返回内置主题的路径。

## 变更内容
1. 修复主题页对“当前主题入口”和“主题根路径”的解析逻辑，使其兼容 Windows 下 `file://` URL 的路径编码/分隔符差异（如 `%5C`）。
2. 在无法解析主题根路径时提供保守兜底策略，优先保证内置主题（`dark`/`light`）可切换，并避免误导性报错。

## 影响范围
- **模块:** `frontend/theme/*`
- **文件:**
  - `frontend/theme/dark/js/main.js`
  - `frontend/theme/light/js/main.js`
- **API:** 无
- **数据:** 无

## 核心场景

### 需求: 默认主题可切换（Issue #36）
**模块:** frontend/theme
用户在设置页选择主题后，应能在深色/浅色主题之间正常切换。

#### 场景: 在 Windows 下从深色切到浅色（或相反）
前置条件：应用正常启动，主题页可访问后端 API。
- 切换后页面应跳转到目标主题入口（`<themeId>/index.html` 或主题包 `entry`）。
- 不应出现“无法解析主题入口：dark/light”的错误提示。

#### 场景: 从主题包返回默认主题
前置条件：已导入主题包并切换到子主题。
- 选择 `dark` 或 `light` 后，应能返回对应内置主题。

## 风险评估
- **风险:** 入口/根路径解析错误可能导致跳转到不存在的文件路径，造成白屏或无法回退。
- **缓解:** 统一使用 URL 解析并对路径做标准化（解码 + 分隔符归一化），仅在识别失败时启用最小影响的兜底策略（默认主题优先）。
